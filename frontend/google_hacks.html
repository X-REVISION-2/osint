<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>UHC Google Hacks</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
@font-face {
    font-family: "0xProto";
    src: url("https://humantooth.neocities.org/fonts/0xProto-Regular.woff2") format("woff2");
}

* {
    box-sizing: border-box;
}

body {
    margin: 0;
    background: #000;
    color: #fff;
    font-family: "0xProto", monospace;
    overflow: hidden;
}

/* --- Background Canvas --- */
canvas {
    position: fixed;
    inset: 0;
    z-index: 0;
}

/* --- App Grid --- */
.app {
    position: relative;
    z-index: 1;
    display: grid;
    grid-template-rows: auto 1fr;
    height: 100vh;
}

/* --- Header --- */
header {
    padding: 16px 24px;
    background: rgba(72, 26, 137, 0.35);
    font-size: 1.4rem;
    letter-spacing: 1px;
}

/* --- Main Layout --- */
main {
    display: grid;
    grid-template-columns: 420px 1fr;
    gap: 16px;
    padding: 16px;
    overflow: hidden;
}

/* --- Tool Grid --- */
.tools {
    display: grid;
    grid-template-columns: 1fr;
    gap: 16px;
    overflow-y: auto;
    padding-right: 4px;
}

/* --- Panels --- */
.panel {
  background: #000;
  border: 1px solid #6200ff;
  border-radius: 8px;
  padding: 14px;
}

.panel h2 {
  margin: 0 0 10px;
  font-size: 1.1rem;
  color: #6200ff;
}

/* --- Inputs --- */
input, select, button, textarea {
    width: 100%;
    margin-top: 6px;
    padding: 8px;
    background: #000;
    border: 1px solid #6200ff;
    color: #fff;
    border-radius: 4px;
    font-family: inherit;
}

textarea {
    min-height: 120px;
    resize: vertical;
}

button {
    margin-top: 10px;
    cursor: pointer;
    transition: 0.25s;
}

button:hover {
    background: #6200ff;
    color: #000;
}

/* --- Output --- */
.output {
    background: rgba(0,0,0,0.65);
    border-radius: 8px;
    padding: 14px;
    overflow: auto;
    white-space: pre-wrap;
    font-size: 0.9rem;
}

/* home button */
#home-btn {
    position: fixed;
    top: 0px;
    left: 0px;
    z-index: 999;
    padding: 18px 14px;
    background: #000;
    color: #6200ff;
    font-size: 18px;
    cursor: pointer;
    transition: all 0.25s ease;
    border-right: #6200ff;
    border-right-width: 2px;
    border-right-style: solid;
}
#home-a {
    color: #6200ff;
    text-decoration: none;
}
#home-a:hover {
    color: #000;
}
#home-btn:hover {
    background: #6200ff;
    color: #000;
}

.node {
        text-decoration: none;
}
#home-btn {
    position: fixed;
    top: 0px;
    left: 0px;
    z-index: 9999;
}

header {
    position: relative;
    z-index: 10;
}
.app {
    padding-top: 80px; /* adjust if needed */
}
header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    padding: 16px 24px;
    text-align: center;
    backdrop-filter: blur(6px);

    z-index: 100;
}

/* iframe / result area */

.results-frame {
    width: 100%;
    height: calc(100vh - 100px);
    border: 1px solid #6200ff;
    border-radius: 8px;
    background: #000;
}
.small {
    font-size: 0.85rem;
    color: #d9c9ff;
}
.row {
    display: flex;
    gap: 8px;
    align-items: center;
}
.row > * { flex: 1; }
.flex-30 { flex: 0 0 30%; }
.flex-70 { flex: 1; }
/* --- Header --- */
header {
    padding: 16px 24px;
    background: #000;
    font-size: 1.4rem;
    letter-spacing: 1px;
}
</style>
</head>

<body>
<canvas id="bg"></canvas>

<div id="home-btn" title="Back to Navigator">
  H0ME
</div>

<div class="app">
    <header>UHC Google Hacks — Nerd Search</header>

    <main>
        <!-- TOOLS -->
        <div class="tools">

            <div class="panel">
                <h2>Query Builder</h2>

                <label for="ghType">Query Type</label>
                <select id="ghType" onchange="updateHelper()">
                    <option value="web">Web (basic)</option>
                    <option value="exact">Exact phrase</option>
                    <option value="site">site:</option>
                    <option value="inurl">inurl:</option>
                    <option value="intitle">intitle:</option>
                    <option value="intext">intext:</option>
                    <option value="allintitle">allintitle:</option>
                    <option value="allintext">allintext:</option>
                    <option value="filetype">filetype:</option>
                    <option value="cache">cache:</option>
                    <option value="related">related:</option>
                    <option value="link">link:</option>
                    <option value="range">numeric range (e.g. 1990..2000)</option>
                    <option value="define">define:</option>
                    <option value="raw">Raw query</option>
                </select>

                <label for="ghQuery">Main Query</label>
                <input type="text" id="ghQuery" placeholder='e.g. "admin login" or keywords' onkeydown="if(event.key==='Enter') runSearch()">

                <label for="ghModifier" id="modLabel">Modifier (site, file ext, range, etc.)</label>
                <input type="text" id="ghModifier" placeholder='e.g. example.com or pdf or 1990..2000'>

                <div class="row">
                    <div class="flex-30">
                        <label class="small">Exact match quotes</label>
                        <select id="ghQuotes">
                            <option value="no">No</option>
                            <option value="yes">Wrap main query in quotes</option>
                        </select>
                    </div>
                    <div class="flex-70">
                        <label class="small">Language / Region (optional, google param)</label>
                        <input id="ghLang" placeholder="e.g. en, uk, us (optional)">
                    </div>
                </div>

                <button onclick="runSearch()">Search in iframe</button>
                <button onclick="openNew()">Open in new tab</button>

                <p class="small" style="margin-top:10px">
                    Examples:
                    site:example.com "index of" | filetype:pdf "confidential" | inurl:login admin
                </p>
                <div id="notice" class="small" style="margin-top:8px;color:#e0cfff">
Results are loaded into the iframe; some sites (including Google) may block embedding. Use "Open in new tab" if empty.
                </div>
            </div>

        </div>

        <!-- OUTPUT -->
        <iframe id="results" class="panel output results-frame" src="about:blank" sandbox="allow-scripts allow-same-origin allow-forms"></iframe>
    </main>
</div>

<script>
document.getElementById('home-btn').onclick = () => {
    window.location.href = './index.html';
}
const typeMap = {
    web: q => q,
    exact: q => q.includes('"') ? q : `"${q}"`,
    site: (q, m) => `${m ? 'site:' + m + ' ' : ''}${q}`,
    inurl: q => `inurl:${q}`,
    intitle: q => `intitle:${q}`,
    intext: q => `intext:${q}`,
    allintitle: q => `allintitle:${q}`,
    allintext: q => `allintext:${q}`,
    filetype: (q,m) => `${q}${m ? ' filetype:' + m : ''}`,
    cache: (q,m) => `cache:${m || q}`,
    related: (q,m) => `related:${m || q}`,
    link: (q,m) => `link:${m || q}`,
    range: (q,m) => `${q} ${m || ''}`,
    define: q => `define:${q}`,
    raw: q => q
};

function updateHelper(){
    const t = document.getElementById('ghType').value;
    const label = document.getElementById('modLabel');
    const mod = document.getElementById('ghModifier');
    label.textContent = 'Modifier (site, file ext, range, etc.)';
    mod.placeholder = 'e.g. example.com or pdf or 1990..2000';
    if (t === 'site') {
        mod.placeholder = 'e.g. example.com';
    } else if (t === 'filetype') {
        mod.placeholder = 'e.g. pdf';
    } else if (t === 'cache') {
        mod.placeholder = 'e.g. www.example.com';
    } else if (t === 'related' || t === 'link') {
        mod.placeholder = 'e.g. example.com';
    } else if (t === 'range') {
        mod.placeholder = 'e.g. 1990..2000';
    } else if (t === 'raw') {
        mod.placeholder = 'unused';
        label.textContent = 'Modifier (unused for raw)';
    }
}

function buildQuery(){
    const t = document.getElementById('ghType').value;
    const qRaw = document.getElementById('ghQuery').value.trim();
    const m = document.getElementById('ghModifier').value.trim();
    const quotes = document.getElementById('ghQuotes').value === 'yes';
    const lang = document.getElementById('ghLang').value.trim();

    let q = qRaw;

    if (t === 'web' && quotes && q && !/^".*"$/.test(q)) q = `"${q}"`;
    // Use mapping
    const builder = typeMap[t] || typeMap.web;
    let out;
    try {
        out = builder(q, m);
    } catch (e) {
        out = q;
    }
    // Clean up extra spaces
    out = (out || '').replace(/\s+/g, ' ').trim();
    return { query: out, lang };
}

function runSearch(){
    const { query, lang } = buildQuery();
    if (!query) {
        alert('Enter a query.');
        return;
    }
    let url = 'https://www.google.com/search?q=' + encodeURIComponent(query);
    if (lang) url += '&hl=' + encodeURIComponent(lang);
    const iframe = document.getElementById('results');
    iframe.src = url;
    document.getElementById('notice').textContent = 'If the iframe is blank the target blocks embedding — click "Open in new tab".';
}

function openNew(){
    const { query, lang } = buildQuery();
    if (!query) {
        alert('Enter a query.');
        return;
    }
    let url = 'https://www.google.com/search?q=' + encodeURIComponent(query);
    if (lang) url += '&hl=' + encodeURIComponent(lang);
    window.open(url, '_blank');
}

// initialize
updateHelper();
</script>
</body>
</html>